global Array.t<<16>> sequence_counters_0 = Array.create(1);

global Array.t<<32>> outgoing_book_signature_manager_0 = Array.create(2048);

global Array.t<<32>> outgoing_metric_signature_manager_0 = Array.create(32);

entry event forward_flow(int<<48>> forward_flow_eth_header_0,int<<48>> forward_flow_eth_header_1,int<<16>> forward_flow_eth_header_2,int<<8>> forward_flow_ip_header_0,int<<8>> forward_flow_ip_header_1,int<<16>> forward_flow_ip_header_2,int<<16>> forward_flow_ip_header_3,int<<16>> forward_flow_ip_header_4,int<<8>> forward_flow_ip_header_5,int<<8>> forward_flow_ip_header_6,int<<16>> forward_flow_ip_header_7,int<<32>> forward_flow_ip_header_8,int<<32>> forward_flow_ip_header_9,int<<16>> forward_flow_udp_header_0,int<<16>> forward_flow_udp_header_1,int<<16>> forward_flow_udp_header_2,int<<16>> forward_flow_udp_header_3);
event incoming_tango_traffic(int<<48>> incoming_tango_traffic_tango_eth_header_0,int<<48>> incoming_tango_traffic_tango_eth_header_1,int<<16>> incoming_tango_traffic_tango_eth_header_2,int<<32>> incoming_tango_traffic_tango_ip_header_0,int<<16>> incoming_tango_traffic_tango_ip_header_1,int<<8>> incoming_tango_traffic_tango_ip_header_2,int<<8>> incoming_tango_traffic_tango_ip_header_3,int<<64>> incoming_tango_traffic_tango_ip_header_4,int<<64>> incoming_tango_traffic_tango_ip_header_5,int<<64>> incoming_tango_traffic_tango_ip_header_6,int<<64>> incoming_tango_traffic_tango_ip_header_7,int<<16>> incoming_tango_traffic_tango_udp_header_0,int<<16>> incoming_tango_traffic_tango_udp_header_1,int<<16>> incoming_tango_traffic_tango_udp_header_2,int<<16>> incoming_tango_traffic_tango_udp_header_3,int<<8>> incoming_tango_traffic_tango_metrics_header_0,int<<16>> incoming_tango_traffic_tango_metrics_header_1,int<<32>> incoming_tango_traffic_tango_metrics_header_2,int<<16>> incoming_tango_traffic_tango_metrics_header_3,int<<8>> incoming_tango_traffic_tango_metrics_header_4,int<<8>> incoming_tango_traffic_encaped_ip_header_0,int<<8>> incoming_tango_traffic_encaped_ip_header_1,int<<16>> incoming_tango_traffic_encaped_ip_header_2,int<<16>> incoming_tango_traffic_encaped_ip_header_3,int<<16>> incoming_tango_traffic_encaped_ip_header_4,int<<8>> incoming_tango_traffic_encaped_ip_header_5,int<<8>> incoming_tango_traffic_encaped_ip_header_6,int<<16>> incoming_tango_traffic_encaped_ip_header_7,int<<32>> incoming_tango_traffic_encaped_ip_header_8,int<<32>> incoming_tango_traffic_encaped_ip_header_9,int<<16>> incoming_tango_traffic_encaped_udp_header_0,int<<16>> incoming_tango_traffic_encaped_udp_header_1,int<<16>> incoming_tango_traffic_encaped_udp_header_2,int<<16>> incoming_tango_traffic_encaped_udp_header_3);
handle incoming_tango_traffic(int<<48>> incoming_tango_traffic_tango_eth_header_0,int<<48>> incoming_tango_traffic_tango_eth_header_1,int<<16>> incoming_tango_traffic_tango_eth_header_2,int<<32>> incoming_tango_traffic_tango_ip_header_0,int<<16>> incoming_tango_traffic_tango_ip_header_1,int<<8>> incoming_tango_traffic_tango_ip_header_2,int<<8>> incoming_tango_traffic_tango_ip_header_3,int<<64>> incoming_tango_traffic_tango_ip_header_4,int<<64>> incoming_tango_traffic_tango_ip_header_5,int<<64>> incoming_tango_traffic_tango_ip_header_6,int<<64>> incoming_tango_traffic_tango_ip_header_7,int<<16>> incoming_tango_traffic_tango_udp_header_0,int<<16>> incoming_tango_traffic_tango_udp_header_1,int<<16>> incoming_tango_traffic_tango_udp_header_2,int<<16>> incoming_tango_traffic_tango_udp_header_3,int<<8>> incoming_tango_traffic_tango_metrics_header_0,int<<16>> incoming_tango_traffic_tango_metrics_header_1,int<<32>> incoming_tango_traffic_tango_metrics_header_2,int<<16>> incoming_tango_traffic_tango_metrics_header_3,int<<8>> incoming_tango_traffic_tango_metrics_header_4,int<<8>> incoming_tango_traffic_encaped_ip_header_0,int<<8>> incoming_tango_traffic_encaped_ip_header_1,int<<16>> incoming_tango_traffic_encaped_ip_header_2,int<<16>> incoming_tango_traffic_encaped_ip_header_3,int<<16>> incoming_tango_traffic_encaped_ip_header_4,int<<8>> incoming_tango_traffic_encaped_ip_header_5,int<<8>> incoming_tango_traffic_encaped_ip_header_6,int<<16>> incoming_tango_traffic_encaped_ip_header_7,int<<32>> incoming_tango_traffic_encaped_ip_header_8,int<<32>> incoming_tango_traffic_encaped_ip_header_9,int<<16>> incoming_tango_traffic_encaped_udp_header_0,int<<16>> incoming_tango_traffic_encaped_udp_header_1,int<<16>> incoming_tango_traffic_encaped_udp_header_2,int<<16>> incoming_tango_traffic_encaped_udp_header_3) {

}
handle forward_flow(int<<48>> forward_flow_eth_header_0,int<<48>> forward_flow_eth_header_1,int<<16>> forward_flow_eth_header_2,int<<8>> forward_flow_ip_header_0,int<<8>> forward_flow_ip_header_1,int<<16>> forward_flow_ip_header_2,int<<16>> forward_flow_ip_header_3,int<<16>> forward_flow_ip_header_4,int<<8>> forward_flow_ip_header_5,int<<8>> forward_flow_ip_header_6,int<<16>> forward_flow_ip_header_7,int<<32>> forward_flow_ip_header_8,int<<32>> forward_flow_ip_header_9,int<<16>> forward_flow_udp_header_0,int<<16>> forward_flow_udp_header_1,int<<16>> forward_flow_udp_header_2,int<<16>> forward_flow_udp_header_3) {

}
// shared locals:

// MAIN HANDLER 
handler main(...){
// Stage 0
match event_id with 
| 2 -> {
labeledstmt_1();
}
| 1 -> {
labeledstmt_2();
}
| _ -> {
labeledstmt_3();
}
// Stage 1
match event_id with 
| 2 -> {
labeledstmt_4();
}
| 1 -> {
labeledstmt_5();
}
| _ -> {
labeledstmt_4();
}
// Stage 2
match event_id with 
| 2 -> {
labeledstmt_6();
}
| 1 -> {
labeledstmt_7();
}
| _ -> {
labeledstmt_6();
}
// Stage 3
match event_id with 
| 2 -> {
labeledstmt_8();
}
| 1 -> {
labeledstmt_9();
}
| _ -> {
labeledstmt_8();
}
// Stage 4
match (bitwhack_index,event_id) with 
| 0,2 -> {
labeledstmt_10();
}
| _,2 -> {
labeledstmt_10();
}
| 0,1 -> {
labeledstmt_11();
}
| _,1 -> {
labeledstmt_12();
}
| _,_ -> {
labeledstmt_10();
}
// Stage 5
match event_id with 
| 2 -> {
labeledstmt_13();
}
| 1 -> {
labeledstmt_14();
}
| _ -> {
labeledstmt_13();
}
// Stage 6
match event_id with 
| 2 -> {
labeledstmt_15();
}
| 1 -> {
labeledstmt_16();
}
| _ -> {
labeledstmt_15();
}
// Stage 7
match event_id with 
| 2 -> {
labeledstmt_17();
}
| 1 -> {
labeledstmt_18();
}
| _ -> {
labeledstmt_17();
}
// Stage 8
match event_id with 
| 2 -> {
labeledstmt_19();
}
| 1 -> {
labeledstmt_20();
}
| _ -> {
labeledstmt_19();
}}
memop get_2206(int<<32>> mem_val_2203,int<<32>> unused_2205,int<<32>> unused_2204)
 {{
b1=None;
b2=None
cell1=None, None
cell2=None, None

ret=(true -> mem_val_2203)
}}
memop get_2202(int<<32>> mem_val_2199,int<<32>> unused_2201,int<<32>> unused_2200)
 {{
b1=None;
b2=None
cell1=None, None
cell2=None, None

ret=(true -> mem_val_2199)
}}
memop combined_memop_SequenceNumberManager_get_curr_SequenceNumberManager_next_2198(int<<32>> curr,int<<32>> inc,int<<32>> inc_set_2195)
 {{
b1=(mbool_2196,true);
b2=(mbool_2197,true)
cell1=(mbool_2196 -> curr+inc_set_2195), None
cell2=(mbool_2197 -> curr), None

ret=(true -> cell2)
}}
labeled_statement labeledstmt_21{
Sys.invalidate.incoming_tango_traffic(incoming_tango_traffic_tango_eth_header_0,incoming_tango_traffic_tango_eth_header_1,incoming_tango_traffic_tango_eth_header_2,incoming_tango_traffic_tango_ip_header_0,incoming_tango_traffic_tango_ip_header_1,incoming_tango_traffic_tango_ip_header_2,incoming_tango_traffic_tango_ip_header_3,incoming_tango_traffic_tango_ip_header_4,incoming_tango_traffic_tango_ip_header_5,incoming_tango_traffic_tango_ip_header_6,incoming_tango_traffic_tango_ip_header_7,incoming_tango_traffic_tango_udp_header_0,incoming_tango_traffic_tango_udp_header_1,incoming_tango_traffic_tango_udp_header_2,incoming_tango_traffic_tango_udp_header_3,incoming_tango_traffic_tango_metrics_header_0,incoming_tango_traffic_tango_metrics_header_1,incoming_tango_traffic_tango_metrics_header_2,incoming_tango_traffic_tango_metrics_header_3,incoming_tango_traffic_tango_metrics_header_4,incoming_tango_traffic_encaped_ip_header_0,incoming_tango_traffic_encaped_ip_header_1,incoming_tango_traffic_encaped_ip_header_2,incoming_tango_traffic_encaped_ip_header_3,incoming_tango_traffic_encaped_ip_header_4,incoming_tango_traffic_encaped_ip_header_5,incoming_tango_traffic_encaped_ip_header_6,incoming_tango_traffic_encaped_ip_header_7,incoming_tango_traffic_encaped_ip_header_8,incoming_tango_traffic_encaped_ip_header_9,incoming_tango_traffic_encaped_udp_header_0,incoming_tango_traffic_encaped_udp_header_1,incoming_tango_traffic_encaped_udp_header_2,incoming_tango_traffic_encaped_udp_header_3);
}
labeled_statement labeledstmt_1{
labeledstmt_21();
}
labeled_statement labeledstmt_27{
int<<16>> precompute = forward_flow_ip_header_2+18;
}
labeled_statement labeledstmt_26{
int<<8>> tango_metrics_hdr_0 = 0;
}
labeled_statement labeledstmt_25{
int<<32>> MetricSignatureManager_sign_ret = 32;
}
labeled_statement labeledstmt_24{
int<<1>> BookSignatureManager_sign_ret = 0;
}
labeled_statement labeledstmt_23{
int<<32>> time_now = Sys.time();
}
labeled_statement labeledstmt_22{
int<<16>> SequenceNumberManager_increment_ret = 32;
}
labeled_statement labeledstmt_2{
labeledstmt_22();
labeledstmt_23();
labeledstmt_24();
labeledstmt_25();
labeledstmt_26();
labeledstmt_27();
}
labeled_statement labeledstmt_3{

}
labeled_statement labeledstmt_4{

}
labeled_statement labeledstmt_29{
int<<12>> timestamp = [31 : 20]time_now;
}
labeled_statement labeledstmt_28{
SequenceNumberManager_increment_ret = Array.update_complex(sequence_counters_0,0,combined_memop_SequenceNumberManager_get_curr_SequenceNumberManager_next_2198,0,1,0);
}
labeled_statement labeledstmt_5{
labeledstmt_28();
labeledstmt_29();
}
labeled_statement labeledstmt_6{

}
labeled_statement labeledstmt_32{
MetricSignatureManager_sign_ret = Array.update_complex(outgoing_metric_signature_manager_0,[4 : 0]timestamp,get_2206,0,0,0);
}
labeled_statement labeledstmt_31{
int<<16>> tango_metrics_hdr_1 = (int<<16>>)timestamp;
}
labeled_statement labeledstmt_30{
int<<16>> seq_number = SequenceNumberManager_increment_ret;
}
labeled_statement labeledstmt_7{
labeledstmt_30();
labeledstmt_31();
labeledstmt_32();
}
labeled_statement labeledstmt_8{

}
labeled_statement labeledstmt_36{
int<<32>> ts_signature = MetricSignatureManager_sign_ret;
}
labeled_statement labeledstmt_35{
int<<32>> sig_bitstring = Array.update_complex(outgoing_book_signature_manager_0,[15 : 5]seq_number,get_2202,0,0,0);
}
labeled_statement labeledstmt_34{
int<<5>> bitwhack_index = [4 : 0]seq_number;
}
labeled_statement labeledstmt_33{
int<<16>> tango_metrics_hdr_3 = seq_number;
}
labeled_statement labeledstmt_9{
labeledstmt_33();
labeledstmt_34();
labeledstmt_35();
labeledstmt_36();
}
labeled_statement labeledstmt_10{

}
labeled_statement labeledstmt_38{
int<<32>> tango_metrics_hdr_2 = ts_signature;
}
labeled_statement labeledstmt_37{
BookSignatureManager_sign_ret = [0 : 0]sig_bitstring;
}
labeled_statement labeledstmt_11{
labeledstmt_37();
labeledstmt_38();
}
labeled_statement labeledstmt_12{
labeledstmt_38();
}
labeled_statement labeledstmt_13{

}
labeled_statement labeledstmt_39{
int<<1>> book_signature = BookSignatureManager_sign_ret;
}
labeled_statement labeledstmt_14{
labeledstmt_39();
}
labeled_statement labeledstmt_15{

}
labeled_statement labeledstmt_40{
int<<8>> tango_metrics_hdr_4 = (int<<8>>)book_signature;
}
labeled_statement labeledstmt_16{
labeledstmt_40();
}
labeled_statement labeledstmt_17{

}
labeled_statement labeledstmt_18{
generate_port (128, incoming_tango_traffic(forward_flow_eth_header_0,forward_flow_eth_header_1,34525,0,precompute,0,0,0,0,0,0,8080,8080,0,0,tango_metrics_hdr_0,tango_metrics_hdr_1,tango_metrics_hdr_2,tango_metrics_hdr_3,tango_metrics_hdr_4,forward_flow_ip_header_0,forward_flow_ip_header_1,forward_flow_ip_header_2,forward_flow_ip_header_3,forward_flow_ip_header_4,forward_flow_ip_header_5,forward_flow_ip_header_6,forward_flow_ip_header_7,forward_flow_ip_header_8,forward_flow_ip_header_9,forward_flow_udp_header_0,forward_flow_udp_header_1,forward_flow_udp_header_2,forward_flow_udp_header_3));
}
labeled_statement labeledstmt_19{

}
labeled_statement labeledstmt_41{
Sys.invalidate.forward_flow(forward_flow_eth_header_0,forward_flow_eth_header_1,forward_flow_eth_header_2,forward_flow_ip_header_0,forward_flow_ip_header_1,forward_flow_ip_header_2,forward_flow_ip_header_3,forward_flow_ip_header_4,forward_flow_ip_header_5,forward_flow_ip_header_6,forward_flow_ip_header_7,forward_flow_ip_header_8,forward_flow_ip_header_9,forward_flow_udp_header_0,forward_flow_udp_header_1,forward_flow_udp_header_2,forward_flow_udp_header_3);
}
labeled_statement labeledstmt_20{
labeledstmt_41();
}